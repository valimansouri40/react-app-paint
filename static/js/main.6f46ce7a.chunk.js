(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n(1),l=n.n(c),o=n(4),a=n.n(o),r=(n(10),n(2)),s=n.p+"static/media/pencil.962e7af9.svg",u=n.p+"static/media/fill.4e211ed6.svg",f=n.p+"static/media/rectangle.5112e12f.svg";var j=function(){var e=Object(c.useState)(),t=Object(r.a)(e,2),n=t[0],l=t[1],o=Object(c.useState)(!1),a=Object(r.a)(o,2),j=a[0],b=a[1],d=Object(c.useState)(),g=Object(r.a)(d,2),O=g[0],p=g[1],h=Object(c.useState)(""),m=Object(r.a)(h,2),x=m[0],v=m[1],y=Object(c.useState)("15"),C=Object(r.a)(y,2),S=C[0],k=C[1],w=Object(c.useState)(null),R=Object(r.a)(w,2),L=R[0],z=R[1],M=Object(c.useState)(),U=Object(r.a)(M,2),B=U[0],P=U[1],T=Object(c.useState)("text"),X=Object(r.a)(T,2),Y=X[0],D=X[1],F=Object(c.useRef)(),I=Object(c.useRef)(),E=Object(c.useRef)();Object(c.useEffect)((function(){var e=F.current;e.height=window.innerHeight-100,e.width=window.innerWidth-14;var t=e.getContext("2d");l(t);var i=I.current;i.onload=function(){n.drawImage(i,550,100,400,400)}}),[L,n]);var J=function(e){if(b(!0),"text"===e){var t=e.target.getBoundingClientRect();e.clientX,t.left,e.clientY,t.top}W(e)},W=function(e){var t=e.target.getBoundingClientRect(),i=(I.current,e.clientX-t.left),c=e.clientY-t.top;if(j)switch(O){case"path":n.lineWidth=S,n.lineCap="round",n.strokeStyle=x,n.lineTo(i,c),n.stroke(),n.beginPath(),n.moveTo(i,c);break;case"stroke":n.clearRect(e.clientX,e.clientY,i,c)}};return Object(i.jsxs)("div",{style:{position:"relative"},children:[Object(i.jsx)("img",{ref:I,id:"im",onMouseDown:J,style:{display:"none"},src:L}),Object(i.jsx)("canvas",{style:{border:"4px solid #111",marginLeft:4},id:"canvas",ref:F,onClick:function(e){var t=e.target.getBoundingClientRect(),i=e.clientX-t.left,c=e.clientY-t.top;"text"===O?(n.fillText(Y,i,c),n.font="".concat(S,"pt Calibri")):"fill"===O&&(n.fillRect(i,c,e.clientX-t.left,e.clientY-t.top),n.fillStyle=x,n.closePath())},onMouseDown:J,onMouseUp:function(){b(!1),n.beginPath()},onMouseMove:W}),B?Object(i.jsx)("iframe",{style:{position:"absolute",top:"30%",height:"30rem",width:"30rem",left:"50%",transform:"translate(-50%,-50%)"},ref:E,src:B}):null,Object(i.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-around",height:80,background:"#111"},children:[Object(i.jsx)("button",{onClick:function(){return p("path")},children:Object(i.jsx)("img",{src:s})}),Object(i.jsx)("button",{onClick:function(){return p("fill")},children:Object(i.jsx)("img",{src:f})}),Object(i.jsx)("button",{onClick:function(){return p("stroke")},children:Object(i.jsx)("img",{src:u})}),Object(i.jsx)("button",{onClick:function(){return p("text")},style:{fontSize:"1.5rem"},children:"A"}),Object(i.jsx)("input",{type:"text",placeholder:"\u0646\u0648\u0634\u062a\u0646 \u0645\u062a\u0646",onChange:function(e){return D(e.target.value)}}),Object(i.jsx)("input",{type:"color",value:x,onChange:function(e){return v(e.target.value)}}),Object(i.jsx)("input",{type:"range",min:"3",max:"36",value:S,onChange:function(e){return k(e.target.value)}}),Object(i.jsx)("label",{for:"img",style:{color:"#fff",fontSize:"1.5rem"},children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0639\u06a9\u0633"}),Object(i.jsx)("input",{type:"file",id:"img",name:"file",style:{visibility:"hidden",display:"none"},onChange:function(e){z(URL.createObjectURL(e.target.files[0]))}}),Object(i.jsx)("label",{for:"file",style:{color:"#fff",fontSize:"1.5rem"},children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0627\u06cc\u0644"}),Object(i.jsx)("input",{type:"file",id:"file",name:"file",style:{visibility:"hidden",display:"none"},onChange:function(e){P(URL.createObjectURL(e.target.files[0]))}}),Object(i.jsx)("button",{onClick:function(){var e=F.current.toDataURL("image/png");window.open("about:blank","image from canvas").document.write("<img src='"+e+"' alt='from canvas'/>"),console.log("Saved!")},style:{fontSize:"1.5rem"},children:"\u0630\u062e\u06cc\u0631\u0647"}),L?Object(i.jsx)("button",{onClick:function(){z(null)},style:{fontSize:"1.5rem"},children:"\u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646 \u0639\u06a9\u0633"}):null,B?Object(i.jsx)("button",{onClick:function(){P(null)},style:{fontSize:"1.5rem"},children:"\u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646 \u0641\u0627\u06cc\u0644"}):null]})]})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,12)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,l=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),l(e),o(e)}))};a.a.render(Object(i.jsx)(l.a.StrictMode,{children:Object(i.jsx)(j,{})}),document.getElementById("root")),b()}},[[11,1,2]]]);
//# sourceMappingURL=main.6f46ce7a.chunk.js.map